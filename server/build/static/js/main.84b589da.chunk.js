(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{91:function(e,n,t){},92:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t.n(c),i=t(45),s=t.n(i),l=t(13),a=t(46),r=t.n(a),u=(t(56),t(47)),d=t(2),b=t(1),j=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],["image","blockquote","code-block"],["clean"]],f=new(window.SpeechRecognition||window.webkitSpeechRecognition);function h(){var e=Object(d.g)().id,n=Object(c.useState)(),t=Object(l.a)(n,2),o=t[0],i=t[1],s=Object(c.useState)(),a=Object(l.a)(s,2),h=a[0],g=a[1],O=Object(c.useState)(),v=Object(l.a)(O,2),x=v[0],m=v[1],p=Object(c.useState)(!1),S=Object(l.a)(p,2),w=S[0],k=S[1],C=Object(c.useState)("en-US"),E=Object(l.a)(C,2),N=E[0],D=E[1],L=Object(c.useState)("Connecting..."),U=Object(l.a)(L,2),I=U[0],T=U[1];Object(c.useEffect)((function(){var e=Object(u.io)("http://localhost:3001");return e.on("connect",(function(){T("Connected")})),e.on("disconnect",(function(){T("Disconnected")})),i(e),function(){e.disconnect()}}),[]),Object(c.useEffect)((function(){null!=o&&null!=h&&(o.once("load-document",(function(e){h.setContents(e),h.enable()})),o.emit("get-document",e))}),[o,h,e]),Object(c.useEffect)((function(){if(null!=o&&null!=h){var e=setInterval((function(){o.emit("save-document",h.getContents())}),2e3);return function(){clearInterval(e)}}}),[o,h]),Object(c.useEffect)((function(){if(null!=o&&null!=h){var e=function(e){h.updateContents(e)};return o.on("receive-changes",e),function(){o.off("receive-changes",e)}}}),[o,h]),Object(c.useEffect)((function(){if(null!=o&&null!=h){var e=function(e,n,t){"user"===t&&o.emit("send-changes",e)};return h.on("text-change",e),h.on("selection-change",(function(e,n,t){if(e)if(console.log(e,"selection"),0==e.length)console.log("User cursor is on",null===e||void 0===e?void 0:e.index),m(null===e||void 0===e?void 0:e.index);else{var c=h.getText(e.index,e.length);console.log("User has highlighted",c||"blank")}else console.log("Cursor not in the editor")})),function(){h.off("text-change",e)}}}),[o,h]);var F=Object(c.useCallback)((function(e){if(null!=e){e.innerHTML="";var n=document.createElement("div");e.append(n);var t=new r.a(n,{theme:"snow",modules:{toolbar:j}});t.disable(),t.setText("Loading..."),g(t)}}),[]);Object(c.useEffect)((function(){f.onresult=function(e){var n=e.results[0][0].transcript;console.log("Speech to text:",n.length),J(n+"\n")},f.onend=function(){w&&f.start()},f.onerror=function(e){console.error("Speech recognition error:",e.error),k(!1)},f.lang=N}),[h,w,N]);var J=function(e){var n=function(){if(null===h||void 0===h?void 0:h.editor){var e=h.getLength();return e>0?e-1:0}return 0}(),t=[{retain:x||n},{insert:e}];h.updateContents(t),m(x+e.length),o.emit("send-changes",t)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"micro-container",children:[Object(b.jsxs)("h3",{className:"status-div",children:[" ",I,Object(b.jsx)("div",{className:"blink_me"})]}),Object(b.jsx)("button",{className:"btn green",onClick:function(){f.lang=N,k(!0),f.start()},disabled:w,children:w?"Listening...":"Start Dictation"}),Object(b.jsx)("button",{className:"btn red",onClick:function(){k(!1),f.stop()},disabled:!w,children:"Stop Dictation"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"languageDropdown",children:"Select Language:"}),Object(b.jsxs)("select",{id:"languageDropdown",value:N,onChange:function(e){D(e.target.value)},children:[Object(b.jsx)("option",{value:"en-US",children:"English (US)"}),Object(b.jsx)("option",{value:"es-ES",children:"Spanish (Spain)"}),Object(b.jsx)("option",{value:"te-IN",children:"Telugu"})]})]})]}),Object(b.jsx)("div",{className:"container-main ",children:Object(b.jsx)("div",{className:"container",ref:F})})]})}var g=t(25),O=t(94);var v=function(){return Object(b.jsx)(g.a,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/home",exact:!0,children:Object(b.jsx)(d.a,{to:"/documents/".concat(Object(O.a)())})}),Object(b.jsx)(d.b,{path:"/documents/:id",children:Object(b.jsx)(h,{})})]})})};t(91);s.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.84b589da.chunk.js.map